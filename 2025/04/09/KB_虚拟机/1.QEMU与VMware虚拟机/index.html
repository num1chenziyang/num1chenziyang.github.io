<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 7.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Monda:300,300italic,400,400italic,700,700italic|Roboto+Slab:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">

<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.14.0/css/all.min.css">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/pace-js@1.0.2/themes/blue/pace-theme-minimal.css">
  <script src="//cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script>

<script class="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Muse","version":"8.0.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":false,"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"},"path":"search.xml","localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false}};
  </script>

  <meta name="description" content="（一）QEMU、KVM、VMware 的架构解析与协作机制一、核心架构与设计理念 QEMU    架构类型：用户态全系统模拟器 + 虚拟化协调器（配合KVM等加速器）。   核心组件：   动态二进制翻译（TCG）：将虚拟机指令转换为宿主机指令（纯软件模拟）。   设备模型：模拟网卡、磁盘、GPU等硬件（如e1000、virtio设备）。   加速器接口：支持KVM、Hyper-V、WHPX（Wi">
<meta property="og:type" content="article">
<meta property="og:title" content="1.QEMU与VMware虚拟机">
<meta property="og:url" content="http://example.com/2025/04/09/KB_%E8%99%9A%E6%8B%9F%E6%9C%BA/1.QEMU%E4%B8%8EVMware%E8%99%9A%E6%8B%9F%E6%9C%BA/index.html">
<meta property="og:site_name" content="ChenSir">
<meta property="og:description" content="（一）QEMU、KVM、VMware 的架构解析与协作机制一、核心架构与设计理念 QEMU    架构类型：用户态全系统模拟器 + 虚拟化协调器（配合KVM等加速器）。   核心组件：   动态二进制翻译（TCG）：将虚拟机指令转换为宿主机指令（纯软件模拟）。   设备模型：模拟网卡、磁盘、GPU等硬件（如e1000、virtio设备）。   加速器接口：支持KVM、Hyper-V、WHPX（Wi">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2025-04-09T14:49:54.000Z">
<meta property="article:modified_time" content="2025-04-28T15:31:40.990Z">
<meta property="article:author" content="czy">
<meta property="article:tag" content="C&#x2F;C++">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="http://example.com/2025/04/09/KB_%E8%99%9A%E6%8B%9F%E6%9C%BA/1.QEMU%E4%B8%8EVMware%E8%99%9A%E6%8B%9F%E6%9C%BA/">


<script data-pjax class="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>1.QEMU与VMware虚拟机 | ChenSir</title>
  






  <noscript>
  <style>
  body { margin-top: 2rem; }

  .use-motion .menu-item,
  .use-motion .sidebar,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header {
    visibility: visible;
  }

  .use-motion .header,
  .use-motion .site-brand-container .toggle,
  .use-motion .footer { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle,
  .use-motion .custom-logo-image {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line {
    transform: scaleX(1);
  }

  .search-pop-overlay, .sidebar-nav { display: none; }
  .sidebar-panel { display: block; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">ChenSir</h1>
      <i class="logo-line"></i>
    </a>
      <p class="site-subtitle" itemprop="description">一旦出发，必须到达</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off" maxlength="80"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="search-result-container no-result">
  <div class="search-result-icon">
    <i class="fa fa-spinner fa-pulse fa-5x"></i>
  </div>
</div>

    </div>
  </div>

</div>
        
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <section class="post-toc-wrap sidebar-panel">
          <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%EF%BC%88%E4%B8%80%EF%BC%89QEMU%E3%80%81KVM%E3%80%81VMware-%E7%9A%84%E6%9E%B6%E6%9E%84%E8%A7%A3%E6%9E%90%E4%B8%8E%E5%8D%8F%E4%BD%9C%E6%9C%BA%E5%88%B6"><span class="nav-text">（一）QEMU、KVM、VMware 的架构解析与协作机制</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%80%E3%80%81%E6%A0%B8%E5%BF%83%E6%9E%B6%E6%9E%84%E4%B8%8E%E8%AE%BE%E8%AE%A1%E7%90%86%E5%BF%B5"><span class="nav-text">一、核心架构与设计理念</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BA%8C%E3%80%81QEMU%E4%B8%8EKVM%E7%9A%84%E5%8D%8F%E4%BD%9C%E6%9E%B6%E6%9E%84%EF%BC%88Linux%E7%8E%AF%E5%A2%83%EF%BC%89"><span class="nav-text">二、QEMU与KVM的协作架构（Linux环境）</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-%E6%9E%B6%E6%9E%84%E5%88%86%E5%B1%82"><span class="nav-text">1. 架构分层</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-%E8%AF%A6%E7%BB%86%E5%8D%8F%E4%BD%9C%E6%B5%81%E7%A8%8B"><span class="nav-text">2. 详细协作流程</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E6%8A%80%E6%9C%AF"><span class="nav-text">3. 性能优化技术</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%89%E3%80%81VMware%E7%9A%84%E6%9E%B6%E6%9E%84%E5%AE%9E%E7%8E%B0"><span class="nav-text">三、VMware的架构实现</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%9B%9B%E3%80%81%E8%B7%A8%E5%B9%B3%E5%8F%B0%E6%94%AF%E6%8C%81%E4%B8%8E%E6%80%A7%E8%83%BD%E5%AF%B9%E6%AF%94"><span class="nav-text">四、跨平台支持与性能对比</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BA%94%E3%80%81%E5%85%B3%E9%94%AE%E6%9E%B6%E6%9E%84%E5%B7%AE%E5%BC%82%E6%80%BB%E7%BB%93"><span class="nav-text">五、关键架构差异总结</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%85%AD%E3%80%81%E5%85%B8%E5%9E%8B%E5%9C%BA%E6%99%AF%E4%B8%8E%E9%80%89%E6%8B%A9%E5%BB%BA%E8%AE%AE"><span class="nav-text">六、典型场景与选择建议</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%EF%BC%88%E4%BA%8C%EF%BC%89%E4%B8%A4%E8%80%85%E5%AF%B9ARM%E6%9E%B6%E6%9E%84%E7%9A%84%E6%94%AF%E6%8C%81%E6%83%85%E5%86%B5"><span class="nav-text">（二）两者对ARM架构的支持情况</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%80%E3%80%81QEMU-KVM-%E5%9C%A8-ARM-%E6%9E%B6%E6%9E%84%E4%B8%8A%E7%9A%84%E6%94%AF%E6%8C%81"><span class="nav-text">一、QEMU+KVM 在 ARM 架构上的支持</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-%E6%98%AF%E5%90%A6%E5%8F%AF%E7%94%A8%EF%BC%9F"><span class="nav-text">1. 是否可用？</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-%E5%85%B8%E5%9E%8B%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="nav-text">2. 典型应用场景</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-%E4%BC%98%E7%82%B9"><span class="nav-text">3. 优点</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-%E7%BC%BA%E7%82%B9"><span class="nav-text">4. 缺点</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BA%8C%E3%80%81VMware-%E5%9C%A8-ARM-%E6%9E%B6%E6%9E%84%E4%B8%8A%E7%9A%84%E6%94%AF%E6%8C%81"><span class="nav-text">二、VMware 在 ARM 架构上的支持</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-%E6%98%AF%E5%90%A6%E5%8F%AF%E7%94%A8%EF%BC%9F-1"><span class="nav-text">1. 是否可用？</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-%E6%9B%BF%E4%BB%A3%E6%96%B9%E6%A1%88"><span class="nav-text">2. 替代方案</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%B8%89%E3%80%81QEMVM-vs-VMware"><span class="nav-text">三、QEMVM vs. VMware</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%9B%9B%E3%80%81%E4%BD%BF%E7%94%A8%E5%BB%BA%E8%AE%AE"><span class="nav-text">四、使用建议</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-%E9%80%89%E6%8B%A9-QEMU-KVM-%E7%9A%84%E6%83%85%E5%86%B5"><span class="nav-text">1. 选择 QEMU+KVM 的情况</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-%E6%94%BE%E5%BC%83-VMware-%E7%9A%84%E6%83%85%E5%86%B5"><span class="nav-text">2. 放弃 VMware 的情况</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E5%BB%BA%E8%AE%AE"><span class="nav-text">3. 性能优化建议</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%EF%BC%88%E4%B8%89%EF%BC%89QEMU-%E5%9C%A8-%E2%80%8Baarch64%E4%B8%8A%E8%BF%90%E8%A1%8C%E2%80%8Barm32%E7%9A%84%E8%99%9A%E6%8B%9F%E6%9C%BA"><span class="nav-text">（三）QEMU 在 ​aarch64上运行​arm32的虚拟机</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%B8%80%E3%80%81%E5%AE%9E%E7%8E%B0%E6%9D%A1%E4%BB%B6"><span class="nav-text">一、实现条件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BA%8C%E3%80%81%E6%93%8D%E4%BD%9C%E6%AD%A5%E9%AA%A4"><span class="nav-text">二、操作步骤</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-%E4%B8%8B%E8%BD%BD-ARM32-%E9%95%9C%E5%83%8F"><span class="nav-text">1. 下载 ARM32 镜像</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-%E5%88%9B%E5%BB%BA%E8%99%9A%E6%8B%9F%E7%A3%81%E7%9B%98"><span class="nav-text">2. 创建虚拟磁盘</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-%E5%90%AF%E5%8A%A8-ARM32-%E8%99%9A%E6%8B%9F%E6%9C%BA"><span class="nav-text">3. 启动 ARM32 虚拟机</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-%E5%AE%89%E8%A3%85%E7%B3%BB%E7%BB%9F"><span class="nav-text">4. 安装系统</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%B8%89%E3%80%81%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9"><span class="nav-text">三、注意事项</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-%E6%80%A7%E8%83%BD%E9%97%AE%E9%A2%98"><span class="nav-text">1. 性能问题</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-%E9%95%9C%E5%83%8F%E5%85%BC%E5%AE%B9%E6%80%A7"><span class="nav-text">2. 镜像兼容性</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-%E5%9B%BE%E5%BD%A2%E7%95%8C%E9%9D%A2%E6%94%AF%E6%8C%81"><span class="nav-text">3. 图形界面支持</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9B%9B%E3%80%81%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98"><span class="nav-text">四、常见问题</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-%E5%90%AF%E5%8A%A8%E6%97%B6%E5%8D%A1%E4%BD%8F%E6%88%96%E6%97%A0%E8%BE%93%E5%87%BA"><span class="nav-text">1. 启动时卡住或无输出</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-%E7%BD%91%E7%BB%9C%E6%97%A0%E6%B3%95%E8%BF%9E%E6%8E%A5"><span class="nav-text">2. 网络无法连接</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BA%94%E3%80%81%E6%9B%BF%E4%BB%A3%E6%96%B9%E6%A1%88"><span class="nav-text">五、替代方案</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-%E4%BD%BF%E7%94%A8-Docker-%E8%BF%90%E8%A1%8C-32-%E4%BD%8D-ARM-%E7%A8%8B%E5%BA%8F"><span class="nav-text">1. 使用 Docker 运行 32 位 ARM 程序</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-%E4%BD%BF%E7%94%A8-Raspberry-Pi-%E9%95%9C%E5%83%8F"><span class="nav-text">2. 使用 Raspberry Pi 镜像</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%EF%BC%88%E5%9B%9B%EF%BC%89%E8%99%9A%E6%8B%9F%E5%8C%96%E6%8A%80%E6%9C%AF%E6%A0%88"><span class="nav-text">（四）虚拟化技术栈</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%80%E3%80%81%E8%99%9A%E6%8B%9F%E5%8C%96%E6%8A%80%E6%9C%AF%E6%A0%88%E7%9A%84%E5%88%86%E5%B1%82%E6%9E%B6%E6%9E%84"><span class="nav-text">一、虚拟化技术栈的分层架构</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BA%8C%E3%80%81%E5%90%84%E5%B1%82%E7%BB%84%E4%BB%B6%E5%8A%9F%E8%83%BD%E8%AF%A6%E8%A7%A3"><span class="nav-text">二、各层组件功能详解</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-Host-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%B1%82%EF%BC%88%E5%BA%95%E5%B1%82%EF%BC%89"><span class="nav-text">1. Host 操作系统层（底层）</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-Hypervisor-%E5%B1%82%EF%BC%88QEMU-KVM%EF%BC%89"><span class="nav-text">2. Hypervisor 层（QEMU&#x2F;KVM）</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-%E7%AE%A1%E7%90%86%E5%B1%82%EF%BC%88libvirt%EF%BC%89"><span class="nav-text">3. 管理层（libvirt）</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-%E7%94%A8%E6%88%B7%E5%B7%A5%E5%85%B7%E5%B1%82"><span class="nav-text">4. 用户工具层</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%89%E3%80%81%E5%B7%A5%E5%85%B7%E9%97%B4%E7%9A%84%E5%8D%8F%E4%BD%9C%E5%85%B3%E7%B3%BB"><span class="nav-text">三、工具间的协作关系</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-%E5%88%9B%E5%BB%BA%E8%99%9A%E6%8B%9F%E6%9C%BA%E7%9A%84%E5%85%B8%E5%9E%8B%E6%B5%81%E7%A8%8B"><span class="nav-text">1. 创建虚拟机的典型流程</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-%E8%99%9A%E6%8B%9F%E6%9C%BA%E7%8A%B6%E6%80%81%E7%AE%A1%E7%90%86"><span class="nav-text">2. 虚拟机状态管理</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-%E8%B7%A8%E4%B8%BB%E6%9C%BA%E8%BF%81%E7%A7%BB"><span class="nav-text">3. 跨主机迁移</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%9B%9B%E3%80%81%E5%B7%A5%E5%85%B7%E9%80%89%E5%9E%8B%E4%B8%8E%E9%80%82%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="nav-text">四、工具选型与适用场景</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BA%94%E3%80%81%E5%AE%89%E5%85%A8%E4%B8%8E%E6%9D%83%E9%99%90%E7%AE%A1%E7%90%86"><span class="nav-text">五、安全与权限管理</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%85%AD%E3%80%81%E6%80%BB%E7%BB%93"><span class="nav-text">六、总结</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%EF%BC%88%E4%BA%94%EF%BC%89%E8%99%9A%E6%8B%9F%E6%9C%BA%E6%90%AD%E5%BB%BA"><span class="nav-text">（五）虚拟机搭建</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%80-qemu-%E8%99%9A%E6%8B%9F%E6%9C%BA"><span class="nav-text">一.qemu 虚拟机</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BA%8C-vmware-%E8%99%9A%E6%8B%9F%E6%9C%BA"><span class="nav-text">二.vmware 虚拟机</span></a></li></ol></li></ol></div>
      </section>
      <!--/noindex-->

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">czy</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">67</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">19</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">4</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="cc-license animated" itemprop="license">
    <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" class="cc-opacity" rel="noopener" target="_blank"><img src="/images/cc-by-nc-sa.svg" alt="Creative Commons"></a>
  </div>


  <div class="links-of-blogroll animated">
    <div class="links-of-blogroll-title"><i class="fa fa-globe fa-fw"></i>
      友情链接
    </div>
    <ul class="links-of-blogroll-list">
        <li class="links-of-blogroll-item">
          <a href="http://choubin.site/" title="http:&#x2F;&#x2F;choubin.site" rel="noopener" target="_blank">yearito</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://dusk-wind.github.io/" title="https:&#x2F;&#x2F;dusk-wind.github.io" rel="noopener" target="_blank">天凉の小站</a>
        </li>
    </ul>
  </div>

      </section>
      <div class="music-player-container">
      <iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=330 height=450 src="//music.163.com/outchain/player?type=0&id=13546769057&auto=1&height=430"></iframe>
      </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner post posts-expand">
      

      

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2025/04/09/KB_%E8%99%9A%E6%8B%9F%E6%9C%BA/1.QEMU%E4%B8%8EVMware%E8%99%9A%E6%8B%9F%E6%9C%BA/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="czy">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ChenSir">
    </span>

    
    
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          1.QEMU与VMware虚拟机
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2025-04-09 22:49:54" itemprop="dateCreated datePublished" datetime="2025-04-09T22:49:54+08:00">2025-04-09</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2025-04-28 23:31:40" itemprop="dateModified" datetime="2025-04-28T23:31:40+08:00">2025-04-28</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/KB-%E8%99%9A%E6%8B%9F%E6%9C%BA/" itemprop="url" rel="index"><span itemprop="name">KB_虚拟机</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <h1 id="（一）QEMU、KVM、VMware-的架构解析与协作机制"><a href="#（一）QEMU、KVM、VMware-的架构解析与协作机制" class="headerlink" title="（一）QEMU、KVM、VMware 的架构解析与协作机制"></a>（一）QEMU、KVM、VMware 的架构解析与协作机制</h1><h2 id="一、核心架构与设计理念"><a href="#一、核心架构与设计理念" class="headerlink" title="一、核心架构与设计理念"></a>一、核心架构与设计理念</h2><ol>
<li><p><strong>QEMU</strong>  </p>
<ul>
<li><strong>架构类型</strong>：用户态全系统模拟器 + 虚拟化协调器（配合KVM等加速器）。  </li>
<li><strong>核心组件</strong>：  <ul>
<li><strong>动态二进制翻译（TCG）</strong>：将虚拟机指令转换为宿主机指令（纯软件模拟）。  </li>
<li><strong>设备模型</strong>：模拟网卡、磁盘、GPU等硬件（如e1000、virtio设备）。  </li>
<li><strong>加速器接口</strong>：支持KVM、Hyper-V、WHPX（Windows Hypervisor Platform）等后端。  </li>
</ul>
</li>
<li><strong>运行模式</strong>：  <ul>
<li><strong>纯模拟模式</strong>：完全通过软件模拟硬件（性能低，可跨架构运行）。  </li>
<li><strong>硬件加速模式</strong>：依赖KVM/Hyper-V接管CPU和内存（性能接近原生）。  </li>
</ul>
</li>
</ul>
</li>
<li><p><strong>KVM</strong>  </p>
<ul>
<li><strong>架构类型</strong>：Linux内核模块（Type-2 Hypervisor组件）。  </li>
<li><strong>核心组件</strong>：  <ul>
<li><strong>CPU虚拟化</strong>：利用Intel VT-x/AMD-V指令扩展，直接在物理CPU上运行虚拟机内核态代码。  </li>
<li><strong>内存虚拟化</strong>：通过EPT（Intel）/NPT（AMD）实现二级地址转换，减少内存访问开销。  </li>
<li><strong>中断虚拟化</strong>：注入虚拟中断到虚拟机，处理APIC虚拟化。  </li>
</ul>
</li>
<li><strong>依赖关系</strong>：  <ul>
<li>必须运行在支持硬件虚拟化的CPU上，且需要用户态工具（如QEMU）处理I/O。  </li>
</ul>
</li>
</ul>
</li>
<li><p><strong>VMware</strong>  </p>
<ul>
<li><strong>架构类型</strong>：  <ul>
<li><strong>Type-2 Hypervisor</strong>（Workstation/Fusion）：运行在宿主OS之上，通过内核驱动（如vmmon）访问硬件。  </li>
<li><strong>Type-1 Hypervisor</strong>（ESXi）：直接运行在裸机，接管所有硬件资源。  </li>
</ul>
</li>
<li><strong>核心组件</strong>：  <ul>
<li><strong>VMkernel</strong>（ESXi）：轻量级内核，直接管理CPU、内存、存储和网络。  </li>
<li><strong>虚拟设备驱动</strong>：优化后的虚拟SCSI控制器（pvSCSI）、网络适配器（vmxnet3）。  </li>
<li><strong>管理工具链</strong>：vSphere（ESXi集群管理）、VMware Tools（增强性能与集成功能）。  </li>
</ul>
</li>
</ul>
</li>
</ol>
<h2 id="二、QEMU与KVM的协作架构（Linux环境）"><a href="#二、QEMU与KVM的协作架构（Linux环境）" class="headerlink" title="二、QEMU与KVM的协作架构（Linux环境）"></a>二、QEMU与KVM的协作架构（Linux环境）</h2><h3 id="1-架构分层"><a href="#1-架构分层" class="headerlink" title="1. 架构分层"></a>1. 架构分层</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">+-----------------------+</span><br><span class="line">|     虚拟机 Guest OS    |</span><br><span class="line">+-----------------------+</span><br><span class="line">|  虚拟硬件层（QEMU模拟）  | ← 由QEMU模拟网卡、磁盘等设备</span><br><span class="line">+-----------------------+</span><br><span class="line">|  KVM内核模块（CPU/内存） | ← 处理CPU指令和内存映射</span><br><span class="line">+-----------------------+</span><br><span class="line">|     Linux内核/Hardware | ← 物理硬件</span><br><span class="line">+-----------------------+</span><br></pre></td></tr></table></figure>

<h3 id="2-详细协作流程"><a href="#2-详细协作流程" class="headerlink" title="2. 详细协作流程"></a>2. 详细协作流程</h3><ul>
<li><strong>步骤1：QEMU初始化</strong>  <ul>
<li>QEMU通过<code>-accel kvm</code>参数启用KVM加速。  </li>
<li>调用<code>/dev/kvm</code>接口创建虚拟机（VM）和虚拟CPU（vCPU）。  </li>
</ul>
</li>
<li><strong>步骤2：KVM接管CPU与内存</strong>  <ul>
<li>KVM通过<code>ioctl(KVM_RUN)</code>将vCPU绑定到物理CPU核心，利用VT-x进入“非根模式”运行虚拟机代码。  </li>
<li>内存通过EPT映射到虚拟机，由硬件直接处理地址转换。  </li>
</ul>
</li>
<li><strong>步骤3：I/O设备模拟</strong>  <ul>
<li>虚拟机访问模拟设备（如磁盘写入）时，触发VM-Exit，控制权回到KVM。  </li>
<li>KVM将I/O请求转发给QEMU的用户态进程，由QEMU处理设备模拟（如写入镜像文件）。  </li>
</ul>
</li>
<li><strong>步骤4：中断与事件处理</strong>  <ul>
<li>QEMU通过<code>eventfd</code>和<code>irqfd</code>机制向KVM注入虚拟中断，减少上下文切换。  </li>
</ul>
</li>
</ul>
<h3 id="3-性能优化技术"><a href="#3-性能优化技术" class="headerlink" title="3. 性能优化技术"></a>3. 性能优化技术</h3><ul>
<li><strong>Virtio半虚拟化</strong>：虚拟机使用virtio驱动直接与QEMU通信，减少模拟开销。  </li>
<li><strong>巨页（Huge Pages）</strong>：KVM使用大内存页减少TLB缺失。  </li>
<li><strong>vCPU绑定</strong>：将vCPU固定到物理CPU核心，避免调度抖动。  </li>
</ul>
<h2 id="三、VMware的架构实现"><a href="#三、VMware的架构实现" class="headerlink" title="三、VMware的架构实现"></a>三、VMware的架构实现</h2><ol>
<li><p><strong>Type-2 Hypervisor（Workstation）</strong>  </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">+-------------------------+</span><br><span class="line">|     虚拟机 Guest OS      |</span><br><span class="line">+-------------------------+</span><br><span class="line">|  虚拟硬件层（vmxnet3等  ） | ← VMware优化的虚拟设备</span><br><span class="line">+-------------------------+</span><br><span class="line">|   VMware虚拟化层（vmmon） | ← 内核驱动直接访问硬件</span><br><span class="line">+-------------------------+</span><br><span class="line">|  宿主OS（Windows/Linux） | ← 依赖宿主OS的调度和资源管理</span><br><span class="line">+-------------------------+</span><br><span class="line">|        物理硬件          |</span><br><span class="line">+-------------------------+</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>特点</strong>：  <ul>
<li>设备模拟代码运行在用户态，通过宿主OS内核驱动（如vmmon、vmci）访问硬件。  </li>
<li>支持Unity模式：将虚拟机应用窗口集成到宿主桌面。  </li>
</ul>
</li>
</ul>
</li>
<li><p><strong>Type-1 Hypervisor（ESXi）</strong>  </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">+-----------------------+</span><br><span class="line">|     虚拟机 Guest OS    |</span><br><span class="line">+-----------------------+</span><br><span class="line">|  虚拟硬件层（VMkernel） | ← 直接管理硬件资源</span><br><span class="line">+-----------------------+</span><br><span class="line">|        物理硬件        |</span><br><span class="line">+-----------------------+</span><br></pre></td></tr></table></figure>
<ul>
<li><strong>特点</strong>：  <ul>
<li>VMkernel直接控制硬件，无需宿主OS，减少性能损耗。  </li>
<li>支持高级功能：vMotion（热迁移）、DRS（动态资源调度）。  </li>
</ul>
</li>
</ul>
</li>
</ol>
<h2 id="四、跨平台支持与性能对比"><a href="#四、跨平台支持与性能对比" class="headerlink" title="四、跨平台支持与性能对比"></a>四、跨平台支持与性能对比</h2><table>
<thead>
<tr>
<th><strong>特性</strong></th>
<th><strong>QEMU+KVM（Linux）</strong></th>
<th><strong>QEMU+WHPX（Windows）</strong></th>
<th><strong>VMware Workstation</strong></th>
<th><strong>VMware ESXi</strong></th>
</tr>
</thead>
<tbody><tr>
<td><strong>虚拟化类型</strong></td>
<td>硬件加速（KVM）</td>
<td>硬件加速（WHPX）</td>
<td>硬件加速 + 软件模拟</td>
<td>硬件加速（裸机Hypervisor）</td>
</tr>
<tr>
<td><strong>CPU性能</strong></td>
<td>接近原生（&lt;5%损耗）</td>
<td>较高损耗（10-20%）</td>
<td>低损耗（5-10%）</td>
<td>接近原生（&lt;3%损耗）</td>
</tr>
<tr>
<td><strong>I/O性能</strong></td>
<td>依赖virtio（需驱动优化）</td>
<td>较低（依赖Windows驱动）</td>
<td>高（优化驱动如vmxnet3）</td>
<td>最高（VMkernel直接控制）</td>
</tr>
<tr>
<td><strong>跨平台支持</strong></td>
<td>仅Linux宿主</td>
<td>Windows/Linux（QEMU跨平台）</td>
<td>Windows/Linux宿主</td>
<td>独立部署（无宿主OS）</td>
</tr>
<tr>
<td><strong>硬件依赖</strong></td>
<td>必须启用VT-x/AMD-V</td>
<td>需要支持WHPX的CPU</td>
<td>需要VT-x/AMD-V</td>
<td>需要VT-x/AMD-V</td>
</tr>
</tbody></table>
<h2 id="五、关键架构差异总结"><a href="#五、关键架构差异总结" class="headerlink" title="五、关键架构差异总结"></a>五、关键架构差异总结</h2><ol>
<li><p><strong>QEMU</strong>  </p>
<ul>
<li><strong>优势</strong>：灵活支持多架构（x86、ARM、RISC-V），可脱离KVM独立运行。  </li>
<li><strong>劣势</strong>：纯模拟模式性能差，依赖外部组件（如KVM）实现高性能。  </li>
</ul>
</li>
<li><p><strong>VMware</strong>  </p>
<ul>
<li><strong>优势</strong>：商业级优化（如内存去重、快照管理），开箱即用。  </li>
<li><strong>劣势</strong>：闭源，ESXi需要专用硬件支持。  </li>
</ul>
</li>
</ol>
<h2 id="六、典型场景与选择建议"><a href="#六、典型场景与选择建议" class="headerlink" title="六、典型场景与选择建议"></a>六、典型场景与选择建议</h2><ul>
<li><strong>开发/测试多架构系统</strong> → QEMU纯模拟模式（无需KVM）。  </li>
<li><strong>Linux服务器虚拟化</strong> → QEMU+KVM（开源高性能）。  </li>
<li><strong>企业级虚拟化集群</strong> → VMware ESXi（高可用性+高级管理功能）。  </li>
<li><strong>跨宿主OS桌面虚拟化</strong> → VMware Workstation或QEMU+WHPX（Windows）。  </li>
</ul>
<hr>
<h1 id="（二）两者对ARM架构的支持情况"><a href="#（二）两者对ARM架构的支持情况" class="headerlink" title="（二）两者对ARM架构的支持情况"></a>（二）两者对ARM架构的支持情况</h1><h2 id="一、QEMU-KVM-在-ARM-架构上的支持"><a href="#一、QEMU-KVM-在-ARM-架构上的支持" class="headerlink" title="一、QEMU+KVM 在 ARM 架构上的支持"></a>一、QEMU+KVM 在 ARM 架构上的支持</h2><h4 id="1-是否可用？"><a href="#1-是否可用？" class="headerlink" title="1. 是否可用？"></a><strong>1. 是否可用？</strong></h4><p>• <strong>QEMU</strong>：完全支持 ARM 架构。<br>  • 可以模拟 ARM 设备（如树莓派、ARM 服务器），甚至支持 <strong>跨架构模拟</strong>（如在 x86 主机上运行 ARM 虚拟机）。<br>  • 纯软件模拟模式下性能较低，但适合开发和测试。<br>• <strong>KVM</strong>：在 ARMv8 及更高版本上支持硬件虚拟化。<br>  • 需要 <strong>ARM 处理器支持虚拟化扩展</strong>（如 ARM Cortex-A72/A76 及以上，或服务器级 CPU 如 Neoverse）。<br>  • 通过 <strong>KVM/ARM</strong> 模块实现，需 Linux 内核支持（内核版本 ≥ 4.4）。<br>  • 结合 QEMU 后（即 <strong>QEMU-KVM</strong>），可提供接近物理机的性能。</p>
<h4 id="2-典型应用场景"><a href="#2-典型应用场景" class="headerlink" title="2. 典型应用场景"></a><strong>2. 典型应用场景</strong></h4><p>• <strong>ARM 服务器虚拟化</strong>：在支持 KVM 的 ARM 服务器（如 AWS Graviton、Ampere Altra）上运行虚拟机。<br>• <strong>嵌入式开发</strong>：模拟树莓派设备，调试嵌入式系统。<br>• <strong>跨架构开发</strong>：在 x86 主机上运行 ARM 虚拟机（需纯 QEMU 模拟，无 KVM 加速）。</p>
<h4 id="3-优点"><a href="#3-优点" class="headerlink" title="3. 优点"></a><strong>3. 优点</strong></h4><p>• <strong>开源免费</strong>：无需付费，适合个人和企业低成本部署。<br>• <strong>灵活性高</strong>：支持多种 ARM 设备和跨架构模拟。<br>• <strong>性能优秀</strong>：在支持 KVM 的硬件上，性能接近物理机。</p>
<h4 id="4-缺点"><a href="#4-缺点" class="headerlink" title="4. 缺点"></a><strong>4. 缺点</strong></h4><p>• <strong>配置复杂</strong>：需手动管理虚拟化环境和设备模拟。<br>• <strong>生态工具较少</strong>：缺乏企业级管理平台（需自行集成 OpenStack 等工具）。</p>
<h2 id="二、VMware-在-ARM-架构上的支持"><a href="#二、VMware-在-ARM-架构上的支持" class="headerlink" title="二、VMware 在 ARM 架构上的支持"></a>二、VMware 在 ARM 架构上的支持</h2><h4 id="1-是否可用？-1"><a href="#1-是否可用？-1" class="headerlink" title="1. 是否可用？"></a><strong>1. 是否可用？</strong></h4><p>• <strong>VMware Workstation/ESXi</strong>：<strong>不支持 ARM 架构</strong>。<br>  • VMware 主要针对 x86 生态，其桌面级（Workstation）和服务器级（ESXi）虚拟化产品均未提供 ARM 版本。<br>• <strong>VMware Fusion（macOS 版）</strong>：仅支持在 Apple Silicon（ARM）上运行 x86 虚拟机（通过 Rosetta 2 转译），<strong>无法原生运行 ARM 虚拟机</strong>。<br>• <strong>VM的 ARM 探索</strong>：<br>  • VMware 曾宣布与 ARM 合作（如 2018 年推出的 ESXi on ARM 技术预览版），但 <strong>未推出成熟的商用产品</strong>。<br>  • 目前 <strong>无官方支持的 ARM 虚拟化解决方案</strong>。</p>
<h4 id="2-替代方案"><a href="#2-替代方案" class="headerlink" title="2. 替代方案"></a><strong>2. 替代方案</strong></h4><p>• <strong>AWS 等云服务商</strong>：在 ARM 服务器（如 AWS Graviton）上提供基于 KVM 的虚拟机，但由云平台底层管理，用户无法直接使用 VMware。</p>
<h3 id="三、QEMVM-vs-VMware"><a href="#三、QEMVM-vs-VMware" class="headerlink" title="三、QEMVM vs. VMware"></a>三、QEMVM vs. VMware</h3><table>
<thead>
<tr>
<th><strong>场景</strong></th>
<th><strong>QEMU+KVM</strong></th>
<th><strong>VMware</strong></th>
</tr>
</thead>
<tbody><tr>
<td><strong>ARM 原生虚拟化</strong></td>
<td>✅ 唯一选择（需硬件支持 KVM）</td>
<td>❌ 无可用产品</td>
</tr>
<tr>
<td><strong>跨架构模拟（x86→ARM）</strong></td>
<td>✅ 支持（纯 QEMU 模拟）</td>
<td>❌ 不支持</td>
</tr>
<tr>
<td><strong>性能</strong></td>
<td>⭐⭐⭐⭐（KVM 加速下）</td>
<td>❌ 无 ARM 版本</td>
</tr>
<tr>
<td><strong>管理工具</strong></td>
<td>需手动配置或集成开源工具（如 Libvirt）</td>
<td>❌ 无 ARM 版本</td>
</tr>
<tr>
<td><strong>成本</strong></td>
<td>免费</td>
<td>❌ 无 ARM 版本</td>
</tr>
</tbody></table>
<h2 id="四、使用建议"><a href="#四、使用建议" class="headerlink" title="四、使用建议"></a>四、使用建议</h2><h4 id="1-选择-QEMU-KVM-的情况"><a href="#1-选择-QEMU-KVM-的情况" class="headerlink" title="1. 选择 QEMU+KVM 的情况"></a><strong>1. 选择 QEMU+KVM 的情况</strong></h4><p>• 在 <strong>ARM 服务器或开发板</strong>（如树莓派 4、NVIDIA Jetson）上运行虚拟机。<br>• 需要 <strong>原生 ARM 虚拟化</strong> 或 <strong>跨架构模拟</strong>。<br>• 预算有限，依赖开源生态。</p>
<h4 id="2-放弃-VMware-的情况"><a href="#2-放弃-VMware-的情况" class="headerlink" title="2. 放弃 VMware 的情况"></a><strong>2. 放弃 VMware 的情况</strong></h4><p>• VMware <strong>无 ARM 版本</strong>，若需商业级虚拟化工具，需转向其他方案：<br>  • <strong>云服务</strong>：直接使用 AWS Graviton 实例（底层基于 KVM）。<br>  • <strong>容器化</strong>：使用 Docker 或 Kubernetes 替代虚拟机（轻量级隔离）。</p>
<h4 id="3-性能优化建议"><a href="#3-性能优化建议" class="headerlink" title="3. 性能优化建议"></a><strong>3. 性能优化建议</strong></h4><p>• 确保 ARM 硬件支持虚拟化扩展（如 <code>/proc/cpuinfo</code> 显示 <code>ID_AA64MMFR1_EL1</code> 包含 <code>VMID</code>）。<br>• 使用最新 Linux 内核和 QEMU 版本（如 QEMU 7.0+）。<br>• 为虚拟机分配足够的 CPU 核和内存，避免过度模拟设备。</p>
<hr>
<h1 id="（三）QEMU-在-​aarch64上运行​arm32的虚拟机"><a href="#（三）QEMU-在-​aarch64上运行​arm32的虚拟机" class="headerlink" title="（三）QEMU 在 ​aarch64上运行​arm32的虚拟机"></a>（三）QEMU 在 ​aarch64上运行​arm32的虚拟机</h1><p>是的，QEMU 可以在 <strong>aarch64（ARM64）</strong> 主机上运行 <strong>arm32（ARM32）</strong> 的虚拟机，但需注意以下关键点：</p>
<h3 id="一、实现条件"><a href="#一、实现条件" class="headerlink" title="一、实现条件"></a><strong>一、实现条件</strong></h3><ol>
<li><p><strong>QEMU 版本支持</strong>：<br>• QEMU 需包含 <code>qemu-system-arm</code> 组件（用于运行 ARM32 系统级虚拟机）。<br>• 检查是否安装：</p>
  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">qemu-system-arm --version</span><br></pre></td></tr></table></figure>
<p>• 若未安装，通过包管理器安装：</p>
  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt install qemu-system-arm  <span class="comment"># Debian/Ubuntu</span></span><br></pre></td></tr></table></figure></li>
<li><p><strong>主机 CPU 兼容性</strong>：<br>• aarch64 处理器需支持 <strong>AArch32 执行状态</strong>（即兼容 32 位指令）。<br>• 大多数 ARMv8+ CPU 支持（如 Cortex-A53/A72），但部分新架构可能已移除 AArch32 支持（如 Apple M1/M2 的 CPU 不支持）。</p>
</li>
<li><p><strong>镜像要求</strong>：<br>• 需使用 <strong>ARM32 操作系统镜像</strong>（如 Debian armhf、Raspbian）。</p>
</li>
</ol>
<h3 id="二、操作步骤"><a href="#二、操作步骤" class="headerlink" title="二、操作步骤"></a><strong>二、操作步骤</strong></h3><h4 id="1-下载-ARM32-镜像"><a href="#1-下载-ARM32-镜像" class="headerlink" title="1. 下载 ARM32 镜像"></a><strong>1. 下载 ARM32 镜像</strong></h4><p>以 Debian armhf 为例：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget https://cdimage.debian.org/cdimage/archive/11.7.0-live/armhf/iso-hybrid/debian-live-11.7.0-armhf-standard.iso</span><br></pre></td></tr></table></figure>

<h4 id="2-创建虚拟磁盘"><a href="#2-创建虚拟磁盘" class="headerlink" title="2. 创建虚拟磁盘"></a><strong>2. 创建虚拟磁盘</strong></h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">qemu-img create -f qcow2 arm32_disk.qcow2 8G</span><br></pre></td></tr></table></figure>

<h4 id="3-启动-ARM32-虚拟机"><a href="#3-启动-ARM32-虚拟机" class="headerlink" title="3. 启动 ARM32 虚拟机"></a><strong>3. 启动 ARM32 虚拟机</strong></h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">qemu-system-arm \</span><br><span class="line">  -M virt \          <span class="comment"># 使用通用 ARM 虚拟设备模型（需内核支持）</span></span><br><span class="line">  -cpu cortex-a15 \  <span class="comment"># 模拟 32 位 ARM CPU（需与镜像兼容）</span></span><br><span class="line">  -smp 2 \           <span class="comment"># 分配 2 个 CPU 核心</span></span><br><span class="line">  -m 2G \            <span class="comment"># 分配 2GB 内存</span></span><br><span class="line">  -drive file=arm32_disk.qcow2,format=qcow2 \  <span class="comment"># 挂载虚拟磁盘</span></span><br><span class="line">  -kernel /path/to/vmlinuz \        <span class="comment"># 手动指定内核（可选）</span></span><br><span class="line">  -initrd /path/to/initrd.img \     <span class="comment"># 手动指定 initrd（可选）</span></span><br><span class="line">  -append <span class="string">&quot;root=/dev/sda2 console=ttyAMA0&quot;</span> \  <span class="comment"># 内核启动参数</span></span><br><span class="line">  -nographic \        <span class="comment"># 禁用图形界面（仅终端）</span></span><br><span class="line">  -device virtio-net-pci,netdev=net0 \  <span class="comment"># 网络设备</span></span><br><span class="line">  -netdev user,<span class="built_in">id</span>=net0,hostfwd=tcp::2222-:22  <span class="comment"># 端口转发（SSH）</span></span><br></pre></td></tr></table></figure>

<h4 id="4-安装系统"><a href="#4-安装系统" class="headerlink" title="4. 安装系统"></a><strong>4. 安装系统</strong></h4><p>• 如果是 Live 镜像，启动后可按提示安装到虚拟磁盘。</p>
<h3 id="三、注意事项"><a href="#三、注意事项" class="headerlink" title="三、注意事项"></a><strong>三、注意事项</strong></h3><h4 id="1-性能问题"><a href="#1-性能问题" class="headerlink" title="1. 性能问题"></a><strong>1. 性能问题</strong></h4><p>• <strong>无硬件加速</strong>：ARM64 主机上运行 ARM32 虚拟机时，QEMU 默认使用 <strong>TCG（软件模拟）</strong>，性能较低。<br>• <strong>无法使用 KVM</strong>：KVM 要求虚拟机与主机架构相同（ARM64→ARM64 或 ARM32→ARM32），跨位宽（32↔64）无法加速。</p>
<h4 id="2-镜像兼容性"><a href="#2-镜像兼容性" class="headerlink" title="2. 镜像兼容性"></a><strong>2. 镜像兼容性</strong></h4><p>• <strong>内核适配</strong>：部分 ARM32 镜像可能需要手动指定内核（<code>-kernel</code> 和 <code>-initrd</code>），否则可能因默认内核不兼容导致启动失败。<br>• <strong>设备驱动</strong>：需确保镜像包含 <code>virtio</code> 驱动（如磁盘、网卡）。</p>
<h4 id="3-图形界面支持"><a href="#3-图形界面支持" class="headerlink" title="3. 图形界面支持"></a><strong>3. 图形界面支持</strong></h4><p>• 若需图形界面，移除 <code>-nographic</code> 并添加：<br>  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">-vga virtio \        <span class="comment"># 使用虚拟显卡</span></span><br><span class="line">-display gtk         <span class="comment"># 启用 GUI 窗口</span></span><br></pre></td></tr></table></figure></p>
<h3 id="四、常见问题"><a href="#四、常见问题" class="headerlink" title="四、常见问题"></a><strong>四、常见问题</strong></h3><h4 id="1-启动时卡住或无输出"><a href="#1-启动时卡住或无输出" class="headerlink" title="1. 启动时卡住或无输出"></a><strong>1. 启动时卡住或无输出</strong></h4><p>• <strong>原因</strong>：内核或启动参数不兼容。<br>• <strong>解决</strong>：手动指定内核和 initrd：<br>  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">-kernel vmlinuz-3.10.0-957.el7.armv7hl \</span><br><span class="line">-initrd initramfs-3.10.0-957.el7.armv7hl.img</span><br></pre></td></tr></table></figure></p>
<h4 id="2-网络无法连接"><a href="#2-网络无法连接" class="headerlink" title="2. 网络无法连接"></a><strong>2. 网络无法连接</strong></h4><p>• <strong>原因</strong>：未正确配置网络设备或防火墙。<br>• <strong>解决</strong>：使用用户模式网络并检查端口转发：<br>  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">-netdev user,<span class="built_in">id</span>=net0,hostfwd=tcp::2222-:22</span><br></pre></td></tr></table></figure></p>
<h3 id="五、替代方案"><a href="#五、替代方案" class="headerlink" title="五、替代方案"></a><strong>五、替代方案</strong></h3><h4 id="1-使用-Docker-运行-32-位-ARM-程序"><a href="#1-使用-Docker-运行-32-位-ARM-程序" class="headerlink" title="1. 使用 Docker 运行 32 位 ARM 程序"></a><strong>1. 使用 Docker 运行 32 位 ARM 程序</strong></h4><p>如果仅需运行单个 ARM32 应用（非完整系统）：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run --<span class="built_in">rm</span> -it arm32v7/debian bash</span><br></pre></td></tr></table></figure>

<h4 id="2-使用-Raspberry-Pi-镜像"><a href="#2-使用-Raspberry-Pi-镜像" class="headerlink" title="2. 使用 Raspberry Pi 镜像"></a><strong>2. 使用 Raspberry Pi 镜像</strong></h4><p>模拟树莓派等特定设备：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">qemu-system-arm \</span><br><span class="line">  -M raspi2b \        <span class="comment"># 树莓派 2型号</span></span><br><span class="line">  -kernel kernel7.img \  <span class="comment"># 树莓派内核</span></span><br><span class="line">  -sd raspbian.img    <span class="comment"># 树莓派系统镜像</span></span><br></pre></td></tr></table></figure>

<hr>
<h1 id="（四）虚拟化技术栈"><a href="#（四）虚拟化技术栈" class="headerlink" title="（四）虚拟化技术栈"></a>（四）虚拟化技术栈</h1><h2 id="一、虚拟化技术栈的分层架构"><a href="#一、虚拟化技术栈的分层架构" class="headerlink" title="一、虚拟化技术栈的分层架构"></a>一、虚拟化技术栈的分层架构</h2><p>虚拟化工具遵循 <strong>分层设计</strong>，各层分工明确，协同工作。整体架构可分为以下四层：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">+-----------------------------------+</span><br><span class="line">|         **用户工具层**             |  ← virt-manager、virsh、virt-install</span><br><span class="line">+-----------------------------------+</span><br><span class="line">|         **管理层 (libvirt)**      |  ← 统一抽象接口、资源调度、生命周期管理</span><br><span class="line">+-----------------------------------+</span><br><span class="line">|    **Hypervisor 层 (QEMU/KVM)**   |  ← 硬件虚拟化实现</span><br><span class="line">+-----------------------------------+</span><br><span class="line">|        **Host 操作系统层**         |  ← Linux 内核、硬件驱动</span><br><span class="line">+-----------------------------------+</span><br></pre></td></tr></table></figure>


<h2 id="二、各层组件功能详解"><a href="#二、各层组件功能详解" class="headerlink" title="二、各层组件功能详解"></a>二、各层组件功能详解</h2><h4 id="1-Host-操作系统层（底层）"><a href="#1-Host-操作系统层（底层）" class="headerlink" title="1. Host 操作系统层（底层）"></a><strong>1. Host 操作系统层（底层）</strong></h4><p>• <strong>功能</strong>：<br>  • 提供物理硬件（CPU、内存、存储、网络）的基础支持。<br>  • 运行 Linux 内核（或其他支持虚拟化的操作系统），加载 KVM 内核模块。<br>• <strong>关键组件</strong>：<br>  • <strong>KVM 内核模块</strong>：实现 CPU 和内存的硬件虚拟化（依赖 Intel VT-x/AMD-V）。<br>  • <strong>QEMU 用户态程序</strong>：模拟 I/O 设备（磁盘、网卡、显卡等）。</p>
<h4 id="2-Hypervisor-层（QEMU-KVM）"><a href="#2-Hypervisor-层（QEMU-KVM）" class="headerlink" title="2. Hypervisor 层（QEMU/KVM）"></a><strong>2. Hypervisor 层（QEMU/KVM）</strong></h4><p>• <strong>功能</strong>：<br>  • <strong>QEMU</strong>：作为 Type-2 Hypervisor（宿主机型虚拟化），通过软件模拟硬件设备。<br>  • <strong>KVM</strong>：提供硬件加速，将虚拟机指令直接 CPU 执行。<br>  • <strong>协作模式</strong>：<br>    ◦ QEMU 调用 KVM 接口实现 CPU/内存虚拟化，自身处理设备模拟。<br>    ◦ 组合为 <strong>QEMU-KVM</strong>，兼顾性能与灵活性。<br>• <strong>核心操作</strong>：<br>  <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 直接调用 QEMU 启动虚拟机（无管理层介入）</span></span><br><span class="line">qemu-system-x86_64 -enable-kvm -m 4G -hda vm.img</span><br></pre></td></tr></table></figure></p>
<h4 id="3-管理层（libvirt）"><a href="#3-管理层（libvirt）" class="headerlink" title="3. 管理层（libvirt）"></a><strong>3. 管理层（libvirt）</strong></h4><p>• <strong>功能</strong>：<br>  • <strong>统一抽象接口</strong>：标准化不同虚拟化技术（KVM、Xen、LXC、VMware等）的管理操作。<br>  • <strong>生命周期管理</strong>：创建、启动、暂停、迁移、销毁虚拟机。<br>  • <strong>资源调度</strong>：管理虚拟网络、存储池、设备绑定等。<br>  • <strong>安全策略</strong>：通过 SELinux、AppArmor 实现隔离和权限控制。<br>• <strong>核心组件</strong>：<br>  • <strong>libvirt API</strong>：提供 C、Python 等语言的编程接口。<br>  • <strong>libvirtd 守护进程</strong>：运行在宿主机上，响应客户端（如 virsh、virt-manager）的请求。<br>  • <strong>XML 配置</strong>：以 XML 文件定义虚拟机硬件规格（CPU、内存、磁盘、网络等）。<br>• <strong>数据流示例</strong>：<br>  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">virt-manager → libvirt API → libvirtd → QEMU-KVM</span><br></pre></td></tr></table></figure></p>
<h4 id="4-用户工具层"><a href="#4-用户工具层" class="headerlink" title="4. 用户工具层"></a><strong>4. 用户工具层</strong></h4><p>• <strong>功能</strong>：<br>  • 提供用户友好的接口，通过 libvirt 间接管理 Hypervisor。<br>  • 支持命令行（CLI）和图形界面（GUI）两种交互方式。<br>• <strong>核心工具</strong>：<br>  • <strong>virsh（CLI）</strong>：<br>    ◦ 通过命令直接操作 libvirt，适合自动化脚本和服务器环境。<br>    ◦ <strong>常用命令</strong>：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">virsh list --all           <span class="comment"># 列出所有虚拟机</span></span><br><span class="line">virsh start/reboot/shutdown &lt;vm&gt;  <span class="comment"># 管理虚拟机状态</span></span><br><span class="line">virsh edit &lt;vm&gt;            <span class="comment"># 编辑虚拟机 XML 配置</span></span><br><span class="line">virsh net-list             <span class="comment"># 管理虚拟网络</span></span><br></pre></td></tr></table></figure>
<p>  • <strong>virt-manager（GUI）</strong>：<br>    ◦ 图形化界面，提供虚拟机创建、监控、实时迁移等功能。<br>    ◦ <strong>核心功能</strong>：<br>      ◦ 可视化配置虚拟机硬件（CPU 拓扑、磁盘格式、虚拟网络）。<br>      ◦ 实时监控资源使用（CPU、内存、磁盘 I/O）。<br>      ◦ 通过 VNC/SPICE 连接虚拟机控制台。<br>  • <strong>virt-install（CLI）</strong>：<br>    ◦ 快速创建虚拟机，避免手动编辑 XML。<br>    ◦ <strong>示例</strong>：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">virt-install --name=centos \</span><br><span class="line">    --memory=2048 --vcpus=2 \</span><br><span class="line">    --disk path=/var/lib/libvirtcentos.qcow2,size=20 \</span><br><span class="line">    --os-type=linux --os-variant=centos7 \</span><br><span class="line">    --network network=default \</span><br><span class="line">    --cdrom=/path/to/centos.iso</span><br></pre></td></tr></table></figure>
<p>  • <strong>辅助工具</strong>：<br>    ◦ <strong>virt-viewer</strong>：连接虚拟机图形控制台（基于 SPICE/VNC）。<br>    ◦ <strong>virt-v2v</strong>：将物理机或其他虚拟化平台的系统迁移到 libvirt 环境。<br>    ◦ <strong>virt-top</strong>：监控虚拟机资源使用（类似 top 命令）。</p>
<h2 id="三、工具间的协作关系"><a href="#三、工具间的协作关系" class="headerlink" title="三、工具间的协作关系"></a>三、工具间的协作关系</h2><h4 id="1-创建虚拟机的典型流程"><a href="#1-创建虚拟机的典型流程" class="headerlink" title="1. 创建虚拟机的典型流程"></a><strong>1. 创建虚拟机的典型流程</strong></h4><ol>
<li><strong>用户通过 virt-manager 点击“新建虚拟机”</strong>：<br>• virt-manager 调用 libvirt API，生成虚拟机 XML 配置模板。</li>
<li><strong>libvirtd 接收请求</strong>：<br>• 验证权限，创建虚拟磁盘文件，生成最终 XML 配置。</li>
<li><strong>libvirtd 调用 QEMU-KVM</strong>：<br>• 根据 XML 启动 <code>qemu-system-x86_64</code> 进程，传入参数（如 <code>-enable-kvm -m 4G</code>）。</li>
<li><strong>QEMU-KVM 加载镜像</strong>：<br>• 模拟硬件，启动 Guest OS。</li>
</ol>
<h4 id="2-虚拟机状态管理"><a href="#2-虚拟机状态管理" class="headerlink" title="2. 虚拟机状态管理"></a><strong>2. 虚拟机状态管理</strong></h4><p>• <strong>virsh 命令</strong> → <strong>libvirtd</strong> → <strong>QEMU 进程信号</strong>：<br>  • <code>virsh shutdown</code> → 发送 ACPI 关机信号给 Guest OS。<br>  • <code>virsh destroy</code> → 强制终止 QEMU 进程（类似断电）。</p>
<h4 id="3-跨主机迁移"><a href="#3-跨主机迁移" class="headerlink" title="3. 跨主机迁移"></a><strong>3. 跨主机迁移</strong></h4><p>• **virsh migrate <strong>libvirtd（源主机）</strong> → <strong>libvirtd（目标主机）</strong>：<br>  • 通过 TCP 传输虚拟机内存和磁盘状态，实现热迁移。</p>
<h2 id="四、工具选型与适用场景"><a href="#四、工具选型与适用场景" class="headerlink" title="四、工具选型与适用场景"></a>四、工具选型与适用场景</h2><table>
<thead>
<tr>
<th><strong>工具</strong></th>
<th><strong>适用场景</strong></th>
<th><strong>优势</strong></th>
</tr>
</thead>
<tbody><tr>
<td><strong>virsh</strong></td>
<td>服务器环境、自动化脚本、批量操作（如 Ansible 集成）。</td>
<td>轻量级、无依赖、适合 DevOps 流程。</td>
</tr>
<tr>
<td><strong>virt-manager</strong></td>
<td>桌面环境、可视化操作、调试虚拟机硬件配置。</td>
<td>直观、易用、支持实时监控。</td>
</tr>
<tr>
<td><strong>virt-install</strong></td>
<td>快速创建标准化虚拟机（如云镜像模板）。</td>
<td>避免手动编辑 XML，提升效率。</td>
</tr>
<tr>
<td><strong>libvirt API</strong></td>
<td>开发自定义管理平台（如 OpenStack Nova 底层调用）。</td>
<td>跨平台、标准化、可扩展性强。</td>
</tr>
</tbody></table>
<h2 id="五、安全与权限管理"><a href="#五、安全与权限管理" class="headerlink" title="五、安全与权限管理"></a>五、安全与权限管理</h2><p>• <strong>用户权限</strong>：<br>  • 普通用户需加入 <code>libvirt</code> 组才能操作虚拟机：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sudo</span> usermod -aG libvirt <span class="variable">$USER</span></span><br></pre></td></tr></table></figure>
<p>• <strong>SELinux/AppArmor</strong>：<br>  • 限制虚拟机进程的访问权限（如隔离磁盘和网络资源）。<br>• <strong>虚拟网络隔离</strong>：<br>  • 使用 libvirt 的 NAT 或桥接网络，避免虚拟机直接暴露在物理网络。</p>
<h2 id="六、总结"><a href="#六、总结" class="headerlink" title="六、总结"></a>六、总结</h2><p>• <strong>分层架构</strong>：<br>    • <strong>Hypervisor 层</strong>（QEMU/KVM）负责硬件虚拟化执行。<br>    • <strong>管理层</strong>（libvirt）提供统一抽象接口和资源调度。<br>    • <strong>用户工具层</strong>（virsh/virt-manager）简化操作复杂度。<br>• <strong>协作逻辑</strong>：<br>       用户工具通过 libvirt API 与 Hypervisor 交互，实现资源的全生命周期管理。<br>• <strong>专业场景</strong>：<br>    • <strong>开发/测试</strong>：使用 virt-manager 快速搭建环境。<br>    • <strong>生产环境</strong>：通过 virsh 和 libvirt API 实现自动化运维。<br>    • <strong>混合云</strong>：结合 libvirt 支持的多 Hypervisor 技术构建异构虚拟化平台。</p>
<hr>
<h1 id="（五）虚拟机搭建"><a href="#（五）虚拟机搭建" class="headerlink" title="（五）虚拟机搭建"></a>（五）虚拟机搭建</h1><h2 id="一-qemu-虚拟机"><a href="#一-qemu-虚拟机" class="headerlink" title="一.qemu 虚拟机"></a>一.qemu 虚拟机</h2><p>直接用 qemu 命令搭建很麻烦，用 virt-manager 可视化搭建方便。<br><a target="_blank" rel="noopener" href="https://cloud.tencent.com/developer/article/1039421">https://cloud.tencent.com/developer/article/1039421</a></p>
<h2 id="二-vmware-虚拟机"><a href="#二-vmware-虚拟机" class="headerlink" title="二.vmware 虚拟机"></a>二.vmware 虚拟机</h2><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/Alex_thomas/article/details/118832502">https://blog.csdn.net/Alex_thomas/article/details/118832502</a></p>
<hr>

    </div>

    
    
    
    

    <footer class="post-footer">
          

<div class="post-copyright">
<ul>
  <li class="post-copyright-author">
      <strong>本文作者： </strong>czy
  </li>
  <li class="post-copyright-link">
      <strong>本文链接：</strong>
      <a href="http://example.com/2025/04/09/KB_%E8%99%9A%E6%8B%9F%E6%9C%BA/1.QEMU%E4%B8%8EVMware%E8%99%9A%E6%8B%9F%E6%9C%BA/" title="1.QEMU与VMware虚拟机">http://example.com/2025/04/09/KB_虚拟机/1.QEMU与VMware虚拟机/</a>
  </li>
  <li class="post-copyright-license">
    <strong>版权声明： </strong>本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="noopener" target="_blank"><i class="fab fa-fw fa-creative-commons"></i>BY-NC-SA</a> 许可协议。转载请注明出处！
  </li>
</ul>
</div>


        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2025/04/09/SDLC%E7%BC%96%E8%AF%91%E5%B7%A5%E4%BD%9C/%E7%BC%96%E8%AF%91%E7%9F%A5%E8%AF%86%E4%BD%93%E7%B3%BB/3.make%E4%B8%8Ecmake/" rel="prev" title="3.make与cmake">
                  <i class="fa fa-chevron-left"></i> 3.make与cmake
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2025/04/09/SDLC%E7%BC%96%E8%AF%91%E5%B7%A5%E4%BD%9C/%E7%BC%96%E8%AF%91%E7%9F%A5%E8%AF%86%E4%BD%93%E7%B3%BB/6.java%E7%BC%96%E8%AF%91%E6%B5%81%E7%A8%8B/" rel="next" title="6.java编译流程">
                  6.java编译流程 <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
  
  
  



      

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      const activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      const commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

    </div>
  </main>

  <footer class="footer">
    <div class="footer-inner">
      

      

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">czy</span>
</div>

    </div>
  </footer>

  
  <script src="//cdn.jsdelivr.net/npm/animejs@3.2.0/lib/anime.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/@next-theme/pjax@0.4.0/pjax.min.js"></script>
<script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/next-boot.js"></script>
  <script>
var pjax = new Pjax({
  selectors: [
    'head title',
    '.page-configurations',
    '.main-inner',
    '.post-toc-wrap',
    '.languages',
    '.pjax'
  ],
  analytics: false,
  cacheBust: false,
  scrollRestoration: false,
  scrollTo: !CONFIG.bookmark.enable
});

document.addEventListener('pjax:success', () => {
  pjax.executeScripts(document.querySelectorAll('script[data-pjax], .pjax script'));
  NexT.boot.refresh();
  // Define Motion Sequence & Bootstrap Motion.
  if (CONFIG.motion.enable) {
    NexT.motion.integrator
      .init()
      .add(NexT.motion.middleWares.subMenu)
      .add(NexT.motion.middleWares.postList)
      .bootstrap();
  }
  const hasTOC = document.querySelector('.post-toc');
  document.querySelector('.sidebar-inner').classList.toggle('sidebar-nav-active', hasTOC);
  document.querySelector(hasTOC ? '.sidebar-nav-toc' : '.sidebar-nav-overview').click();
  NexT.utils.updateSidebarPosition();
});
</script>


  




  <script src="/js/local-search.js"></script>












  








    <div class="pjax">
  

  

    </div>
</body>
</html>
