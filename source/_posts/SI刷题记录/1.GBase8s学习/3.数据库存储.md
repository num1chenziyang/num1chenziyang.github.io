==gbase8s系统框架设计-存储单元一==  
[https://blog.csdn.net/qq_59083851/article/details/137881876](https://blog.csdn.net/qq_59083851/article/details/137881876)
   

南大通用GBase 8s 数据库存储布局解析  
[https://blog.51cto.com/u_16565911/12888500](https://blog.51cto.com/u_16565911/12888500)
   

**南大通用****GBase8s****数据库中的****Partition Page****解析**  
[https://www.gbase.cn/community/post/5381](https://www.gbase.cn/community/post/5381)
    
[https://www.modb.pro/doc/53699](https://www.modb.pro/doc/53699)  
[https://www.modb.pro/db/476114](https://www.modb.pro/db/476114)  
[https://www.modb.pro/doc/52955](https://www.modb.pro/doc/52955)
      

在数据库中，存储结构通常采用层次化的设计，以优化数据管理和访问效率。以下是对 **Page（页）、Extent（区）、Partition（分区）、Chunk（块）** 等概念的详细解释及其相互关系：
 
**1. Page（页）**

- **定义**：数据库中最小的存储单元，用于存储实际数据（如表行、索引条目等）。
- **特点**：
    
    - **固定大小**：例如，SQL Server 默认 8KB，MySQL InnoDB 默认 16KB。
    - **I/O 基础单位**：磁盘读写以页为单位，减少频繁的小数据操作。
    - **内容类型**：数据页、索引页、日志页等。
- **示例**：一页可能包含多行数据，若单行数据过大（如 BLOB），可能跨页存储（行溢出）。
 
**2. Extent（区）**

- **定义**：由多个连续的页组成的逻辑单元，用于高效分配空间。
- **特点**：
    
    - **统一分配**：例如，SQL Server 中一个区包含 **8 个连续页**（共 64KB）。
    - **混合区 vs 统一区**：
        
        - **混合区**：存放不同对象的页（适用于小对象）。
        - **统一区**：存放同一对象的页（适用于大对象）。
- **作用**：减少频繁分配页的开销，提升空间管理效率。
 
**3. Partition（分区）**

- **定义**：将表或索引按规则（如时间、范围）划分为独立的逻辑部分。
- **特点**：
    
    - **逻辑划分**：每个分区可独立管理（备份、删除等）。
    - **物理存储**：分区可映射到不同的文件组（FileGroup）或物理文件。
    - **性能优化**：查询时仅访问相关分区（分区剪枝）。
- **示例**：按月份分区的订单表，每月数据存于独立分区，加速时间范围查询。
 
**4. Chunk（块）**

- **定义**：不同系统中的概念差异较大，通常指一组连续存储单元或数据分片。
- **常见场景**：
    
    - **分布式数据库**：如 MongoDB 的 Chunk 是分片集群中数据迁移的最小单位（基于分片键范围）。
    - **备份/恢复**：如 MySQL 物理备份工具 Percona XtraBackup 以 Chunk 为单位处理数据文件。
    - **内存管理**：如 InnoDB 的 Buffer Pool 划分为 Chunk 管理内存页。
 
**层级关系与交互**

1. **Chunk（若存在）** → **Partition** → **Extent** → **Page**
    
    - 例如，在分片集群中，一个 Chunk 可能包含多个 Partition 的数据。
2. **物理存储示例**：
    
    - **数据库** → **表空间（Tablespace）** → **数据文件（Data File）** → **Partition** → **Extent** → **Page**。
3. **分配流程**：
    
    - 插入数据时，数据库按需分配 Extent（而非单个 Page），Extent 被划分为 Page 存储实际数据。
    - 分区表的数据按规则分布到不同 Partition，每个 Partition 由多个 Extent 组成。
 
**跨系统对比**

|   |   |   |   |
|---|---|---|---|
|**概念**|**SQL Server**|**MySQL InnoDB**|**MongoDB**|
|**Page**|8KB 页|16KB 页|无（文档存储）|
|**Extent**|8 个页（64KB）|1MB（64 个 16KB 页）|无|
|**Partition**|表/索引分区|表分区（5.1+）|无（分片代替）|
|**Chunk**|无|无|分片数据迁移单位|
 ![Database I— Tablespace/FileGroup Data File 1 I I— Partition I I I— Extent I I L Extent I L Partition 2 I L Extent 3 L Data File 2 L partition Chunk (MongoDB) 1 (Logical) 1 [Page 1, 2 [Page 9, . Page [Partit ion [Partit ion Page 8] Page 16] I— Shard Key Range 1 -+ I— Shard Key Range 2 -• A, Partition B] ](Exported%20image%2020250328133830-0.png)

**关键总结**

- **Page** 是数据操作的最小单位，直接影响 I/O 性能。
- **Extent** 优化空间分配，减少碎片。
- **Partition** 提升大表管理灵活性，支持分区剪枝。
- **Chunk** 多在分布式系统中用于数据分片与迁移。

理解这些概念有助于设计高效的存储策略，优化查询性能和管理大规模数据。