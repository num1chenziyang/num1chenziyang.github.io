# 一.APT 使用

apt（Advanced Package Tool）是 Debian 及其衍生发行版（如 Ubuntu、UOS 等）中用于管理软件包的高级命令行工具。它提供了一个比 apt-get 更加友好的用户界面，简化了许多常见的软件包管理任务，并提供了更详细的进度信息和错误消息。

## 1.主要功能

- **安装软件包**：从指定的仓库下载并安装软件包。
- **更新软件包列表**：刷新本地缓存，使系统知道最新的软件包版本。
- **升级软件包**：将已安装的软件包升级到最新版本。
- **删除软件包**：卸载不再需要的软件包。
- **搜索软件包**：在仓库中查找特定的软件包。
- **显示软件包信息**：查看软件包的详细信息。
   

## 2.常用命令

### 一、基础操作

1. **更新软件源索引****￼**sudo apt update￼（同步远程仓库的软件列表到本地，建议每次操作前执行）
2. **升级所有可更新软件****￼**sudo apt upgrade￼（仅升级已安装的包，保留旧配置）￼sudo apt full-upgrade￼（彻底升级，可能删除旧依赖）
3. **一键更新组合命令****￼**sudo apt update && sudo apt upgrade -y￼（-y 自动确认操作）
 
### 二、软件管理

1. **安装软件****￼**sudo apt install <包名>￼（支持多包安装：sudo apt install pkg1 pkg2）￼（输入包名前半部分按 Tab 键补全）
2. **卸载软件****￼**sudo apt remove <包名>￼（仅删除软件，保留配置）￼sudo apt purge <包名>￼（彻底删除软件及配置）
3. **清理无用依赖****￼**sudo apt autoremove￼（自动删除不再需要的旧依赖包）
 
### 三、查询与信息

1. **搜索软件包****￼**apt search <关键词>￼（如 apt search python3）
2. **查看包详情****￼**apt show <包名>￼（显示版本、依赖、描述等）
3. **列出已安装包****￼**apt list --installed￼（支持通配符过滤：apt list --installed *nginx*）
4. **检查可升级包****￼**apt list --upgradable￼（需先执行 apt update）
 
### 四、配置优化

1. **更换软件源**
2. 编辑源文件：sudo nano /etc/apt/sources.list
3. 替换域名（如 us.archive.ubuntu.com → mirrors.aliyun.com）
4. 更新生效：sudo apt update
5. **解决依赖问题****￼**sudo apt -f install￼（修复缺失的依赖关系）
 
### 五、高级技巧

1. **下载不安装****￼**sudo apt download <包名>￼（获取 .deb 安装包文件）
2. **查看历史操作****￼**cat /var/log/apt/history.log￼（记录所有 apt 命令的执行记录）
3. **锁定软件版本****￼**sudo apt-mark hold <包名>￼（防止误升级关键软件）
   

### 注意事项

- 所有管理命令需 sudo 权限（除查询类命令）
- 优先使用 apt 而非 apt-get（新版已整合功能）
- 定期执行 sudo apt autoremove 保持系统清洁