# gcc -E -dD

==此gcc选项，将编译过程展开，可以相信的查看编译内容，以寻找隐蔽的错误==
 
gcc -E -dD 是 GCC 的一个预处理选项组合，它的作用如下：

1. **-E**：仅执行预处理，输出预处理后的代码，不进行编译和链接。这会展开宏、处理头文件和条件编译等。
2. **-dD**：与 -E 配合使用时，它会在预处理输出中添加两部分内容：
    
    - **已定义的宏列表**：在预处理输出的开头，列出所有已定义的宏（包括标准库宏和用户定义的宏）。
    - **保留** **#define** **指令**：输出文件中的宏定义不会被展开，而是以 #define 的形式保留。
 
## 用法：

## gcc -E -dD source_file.c -o preprocessed_file.c
 
## 示例：

test.c 的文件：  
#include <stdio.h>￼#define MAX 100￼  
int main() {￼ printf("MAX is %d\n", MAX);￼ return 0;￼}￼
 
运行以下命令：

## gcc -E -dD test.c -o test_preprocessed.c
 
**预处理后的文件** **test_preprocessed.c**：  
# 1 "test.c"￼# 1 "<built-in>"￼#define __STDC__ 1￼#define __STDC_HOSTED__ 1￼#define __STDC_VERSION__ 201112L￼...￼#define MAX 100￼# 1 "test.c"￼#include <stdio.h>￼  
int main() {￼ printf("MAX is %d\n", MAX);￼ return 0;￼}￼  
这个输出中包含：

- 编译器定义的宏，例如 __STDC__ 和 __STDC_VERSION__。
- 用户定义的宏 #define MAX 100，它保留了原始的 #define 形式，而没有直接展开。
 
## 总结：

- **-E**：执行预处理并输出结果。
- **-dD**：输出所有宏定义并保留源文件中的 #define 指令。