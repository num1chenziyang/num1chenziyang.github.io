# 服务器：172.16.2.196
 
**1.****完整编译**  
**docker exec -it f31753b48792**  
如果其环境本身就已经可以编译，则无需进入docker容器，运行环境脚本或者直接编译即可。  
（直接编译情况是指配置文件默认配置环境变量，无需手动配置环境）  
**cd /home/czy/code**  
**git clean -xdf**    
在重新编译前一定要clean；在csdk目录下运行此命令就是清理csdk，ids和gls同理，在code目录下即全部清理。  
（场景：在编完gls与部分csdk后，ids出现问题，解决后单独清理ids，后将ids编译生成的tar包覆盖到之前编译出现问题生成的tar包处，单独清理csdk并重新编译）  
**sh build.sh all release 64**         
sh build.sh all debug 64，即编译debug版本  
(all包含csdk,ids,gls,jbdc......只编ids将all换为ids，第一次编要全编)  
**最终生成****ids****与****csdk****的****tar****包，分别在其****tristarm****目录**
 
此时，对server的发行版开始编译，查看其中遇见的问题：  
**在****glslib****中：****groklog *log**  
**在****ids****中：**   **groklog *out**  
路径为：/home/czy/code/csdk/vobs/tristarm  
**在****csdk****中：** **groklog *out**  
对其问题进行分析解决，通常问题较长，使用命令：**groklog *log | less****，**可以快速定位到第一个问题的地方，进行解决：（通常下面很多问题都是由第一个问题引起）
   

**2.****部分编译**  
**1.ids****为例**  
**cd /home/czy/code/ids/vobs/tristarm**  
**./build/pe_bert -c linux86_64-g -64 serverlist setup ......****（详见手册）**  
1.**-c linux86_64-g**代表编译**debug**版，redhat是linux86_64，因此使用此命令形式，其他平台有相应的变化。去掉此选项即编译的release版本。
 
2.-64代表的是编译64位程序。  
场景：编译ids至make阶段，将新的oninit替换NQA要测试的静默安装的数据库的oninit模块：  
cd /home/czy/code/ids/vobs/tristarm
 
./build/pe_bert -c linux86_64-g -64 serverlist setup ......
 
groklog *out        //查看是否有编译错误，没有则继续
 
cd /home/czy/code/ids/vobs/tristarm/rsam  
用里面的oninit盖掉：${Silent installation}/bin/oninit  
note：  
1.全编之后，再有单编需求，直接单编：  
        **./build/pe_bert -c linux86_64-g -64** **make**
 
2.使用debug版server有可能将NQA框架跑坏
 
3.编完media.out，即完全编完
   

**3.****补充知识**  
**1.Docker****工具**  
Docker是一个开源的容器化平台，旨在简化应用程序的开发、部署和管理。它利用操作系统级虚拟化技术，将应用程序及其所有依赖项打包到一个称为容器的轻量级独立运行环境中。
 
**2.****简易编译过程说明：**  
1.编译gls，在glslib生成一个tar文件。  
2.编译部分csdk，因为ids的编译依赖部分csdk。  
3.编译ids，生成tar文件。  
4.完整编译csdk。