---
title: 机器运维命令
date: 2025-04-09 11:09:00 
categories: 
- SDLC机器支持
- 
tags: 
- 
password: 
---
# 一.linux防火墙
安装完系统之后，有时候网络配置好了但是连接不上，往往需要关闭防火墙。
## 1:查看防火状态
```shell
systemctl status firewalld
service iptables status
```
 
## 2:暂时关闭防火墙
```shell
systemctl stop firewalld
service iptables stop
```
 
## 3:永久关闭防火墙
```shell
systemctl disable firewalld
chkconfig iptables off
```
 
## 4:重启防火墙
```shell
systemctl enable firewalld
service iptables restart
```
 
## 5:永久关闭后重启
```shell
//暂时还没有试过
chkconfig iptables on　  
```

---

# 二.查看机器基本信息
## 1.系统版本与内核信息
1. **查看主机名**  
   `hostname` 或 `hostnamectl`  
   `hostname -i` 查看主机IP地址

2. **查看内核与操作系统**  
   `uname -a`（完整系统信息）  
   `uname -r`（内核版本）  
   `lsb_release -a`（发行版详细信息）  
   `cat /etc/os-release`（系统发行版信息）


## 2.硬件信息
3. **CPU信息**  
   `lscpu`（架构/核心数/线程数）  
   `cat /proc/cpuinfo`（每个CPU核心的详细参数）

4. **内存信息**  
   `free -h`（以易读格式显示内存使用）  
   `cat /proc/meminfo`（内存详细参数）

5. **磁盘与分区**  
   `lsblk`（块设备与分区列表）  
   `df -h`（磁盘空间使用情况）  
   `fdisk -l`（分区表信息，需root权限）

6. **PCI设备信息**  
   `lspci`（所有PCI设备列表）

## 3.资源监控
7. **实时资源监控**  
   `top`（进程与资源占用实时显示）  
   `htop`（增强版top，需安装）

8. **性能统计工具**  
   `vmstat -s`（虚拟内存/进程统计）  
   `iostat -x 1 5`（磁盘I/O监控）  
   `sar -u 1 5`（历史性能数据采集）

## 4.网络信息
9. **网络接口与连接**  
   `ifconfig` 或 `ip addr show`（接口配置）  
   `netstat -tuln`（监听端口与连接状态）  
   `ss -tunlp`（替代netstat的现代工具）

10. **路由与带宽**  
    `route -n`（路由表信息）  
    `iftop`（实时网络流量监控，需安装）

## 5.其他实用命令
11. **运行时间与负载**  
    `uptime`（系统运行时间与平均负载）

12. **硬件详细信息**  
    `dmidecode`（主板/BIOS/硬件厂商信息，需root权限）

13. **日志与启动信息**  
    `dmesg | tail`（查看最近内核日志）  
    `journalctl -b`（本次启动日志）

## 6.使用建议：
• **组合使用**：例如同时运行 `lscpu` + `free -h` + `df -h` 快速获取硬件与资源概况。  
• **权限需求**：涉及硬件底层信息的命令（如 `dmidecode`、`smartctl`）需 `sudo` 权限。  
• **问题排查**：内存不足时用 `top` 查进程，磁盘满时用 `du -sh /*` 定位大文件。  
