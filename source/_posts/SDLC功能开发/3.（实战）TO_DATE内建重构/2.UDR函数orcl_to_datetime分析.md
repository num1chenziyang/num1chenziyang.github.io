fmt_str为日期格式  
in_str为输入的日期
 
##裁切边界空间，确保输出字符串长度大于输入字符串长度  
##fmt_relstr为格式化后的日期格式  
##in_relstr为格式化后的输入的日期

# orcl_trim_string(input，output，buffer_size)
 
##分配空间

# ret_date=alloc
 
处理J格式，wwg
 
##获取缓存项  
##第一次用过的format会在if里存入缓存中  
##如果和缓存中的format匹配上了，则直接跳过if  
##否则进入if

# token_list=get_cache_entry(&g_date2_cache, fmt_relstr)
 
# if(!token_list)

# {
 
##将输入格式转换为token列表  
##token_list->token->token_id也根据format赋值完成  
##后续orcl_convert_input函数in_relstr在拆解后，根据current_token->token->token_id赋值给datetime结构体相对应的成员

# token_list=orcl_translate_format(fmt_relstr)

##g_kws是format集合结构

# orcl_gkwlook()

##将已经初始化好的成员赋给token_list

# orcl_add_token_list(token_list, current_token, part_exp, cases)
 
不允许token不是to_date进入
 
不允许一种token重复出现
 
# }
 
##输入token_list结构，将对应成员放入datetime结构中  
##current_token->token->token_id与case匹配

# orcl_convert_input(in_relstr, token_list, &datetime)
   

##将datetime_str转换为dtime_t类型，为ret_date。

# ifx_gl_convert_datetime(ret_date, datetime_str, GLS_DATETIME_FORMAT)
   

# return ret_date