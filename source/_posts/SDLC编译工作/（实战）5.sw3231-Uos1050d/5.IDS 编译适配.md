# 一.找不到文件pam_appl.h

## 1.问题

|   |   |
|---|---|
|报错信息来源|makelibs.out|
|报错信息内容|找不到文件pam_appl.h|
 
## 2.分析

在编译 oslib 下的 osauth.o 时，117 行#include<security/pam_appl.h>找不到。在160机器的 / 下搜，找到 pam_appl.h 文件在 /usr/include/security 目录下，而此目录在uos中没有。  
**本质原因是pam****-devel工具未安装**
 
## 3.解决

uos 的 apt 工具没有 pam-devel，需要源码编译安装。
 
## 4.经验

当有一些系统的 .h 文件找不到时，去正常服务器 find，若能找到，考虑此开发包未安装。以 libaio.h 为例，其属于开发包中的头文件（编译时依赖），需要安装 ​开发包（名称通常为 libaio-dev 或 libaio-devel）才能获取头文件。需要安装的 devel 包如下：

|   |   |
|---|---|
|libX[x]11|libX11-devel|
|pam|pam-devel|
|elfutils|elfutils-devel|
|ncures|ncures-devel|
|libaio|libaio-devel|
|libuuid|uuid.h 直接从别处取就好|
    
# 二./usr/bin/ld: cannot find -lpam

## 1.问题

|   |   |
|---|---|
|报错信息来源|makelibs.out|
|报错信息内容|/usr/bin/ld: cannot find -lpam|
|相似报错|/usr/bin/ld: cannot find -lelf|
 
## 2.分析

ld 报错：cannot find -lpam，这说明没有找到文件 libpam.so ，由前面 CSDK 经验得知，本架构的 tristarm/setup/setup.linuxsw64 文件配置的 SYSTHDIR 路径为 /usr/lib，而有一些 lib 资源在 /usr/lib/sw_64-linux-gnu 下，与 esqlc 出现的问题相同。
 
## 3.解决

/usr/lib 下做软链接，将 libpam.so 链到 /usr/lib/sw_64-linux-gnu/libpam.so.0，问题解决。
    
# 三.找不到 libaio.h

## 1.工具源码下载

1.以此系统 Uos 为例，找不到 libaio.h，很明显是没有安装 libaio-devel 导致。
 
2.简单将 redhat6.5 的 libaio.h 拷贝过来，编译报错（虽然 pam 源文件 /usr/include/security 拷贝过来编译可过，但是 libaio 就因为架构和版本的原因，不能随便找个 libaio.h 就完了）
 
3.想要安装 libaio-devel，出现以下问题：  
（1）apt 源没有 libaio-devel，只有 libaio1  
（2）Uos 中 libaio-devel 是否叫此名字？  
（3）对于 sw64 架构来说，libaio-devel 下载什么版本？在哪下载？
 
4.通过 apt show libaio1，可以查看 libaio 的版本为 0.3.1，发现 Homepage 指向了此组件的下载地址，从此地址能够通过 git clone 下载工具源码，然后切换分支 0.3.1，即取得了 libaio 的对应版本的源码（APT-Sources：/usr/lib/dpkg-db/status，记录了所有安装软件的详细安装信息）。
 
5.由于 libaio1 已经安装了，将缺失的源码拷贝到/usr/include，编译通过（不必非要安装 libaio-devel）。
    
# 四.ksh

ln -s /bin/sh /bin/ksh  
否则在 makeclient 报错找不到 /bin/ksh 工具
    
# 五.XSLT Error

## 1.问题

|   |   |
|---|---|
|报错信息来源|media.out|
|报错信息内容|(Location of error unknown)XSLT Error|
 
## 2.分析
 ![/usr/cm/n1ght1y_bu11d/cache/java/jdk/1inux_sw64/j2sdk-1mage/bin/java -cp "/opt/Insta11Anywhere/IA2011/resourc e/pa rsers /xmlpa rserAPIs. j ar : /opt/Insta11Anywhere/IA2011 / resou rce/pa rsers/xerceslmpl. j ar : /opt/Insta11Anywhe re/ IA2Ø11 /resource/xml.jar : /home/czy/code/1ds/vobs/tristarm/engadm/Insta11API/1ibAPI. jar" org.apache.xalan.xslt. Process -IN /home/czy/code/lds/vobs/trlstarm/sqldist_dls/etc/ids_master_doc.xml -XSL chgownergroup.xsl -PARAM platform Iinuxsw64 -PARAM edition Ultimate -PARAM component *basename GLS-JPN.ia_manifest .ia_manifest- -PAR AM action_list MANIFEST -PARAM product "GBase GLS" -OUT "GLS-JPN.ia_manifest" [ERR 06141 The (Location of error unknown)XSLT Error (javax. ml. transform. TransformerConfigurationExcept10n) : processor has encountered an Internal error condition. Please report the problem and provide the following information: Method not found: class = interface org.apache.xm1.ser1a1izer.Ser1a1izationHand1er method = addA- [class java . lang.String, int] ttributeContent args — Exception in thread "main" java . lang . RuntimeException: [ERR 0614] The processor has encountered an internal e r ror condition. Please report the problem and provide the following information: Method not found: class = i [class java. lang. nterface org.apache.m1.seria1izer.Seria11zationHand1er method = addAttributeContent args = String, int] at org.apache.xalan.xs1t.Process.doEx1t(Unknown Source) at org.apache.xalan.xs1t.Process.main(Unknown Source) make: [makefile: 170: GLS-JPN.ia—manifest] Error 1 (ignored) ](Exported%20image%2020250328135200-0.jpeg)  

本来以为是 serializer.jar 的问题，但是在重做 vm（尝试删除 serializer.jar 或 sun.jar）后，此问题并未解决。然后替换了新的 /opt/InstallAnywhere 下的 xml.jar 后通过。
   

## 3.解决

取 172.16.2.129 下的 /opt/InstallAnywhere 下的 xml.jar，替换后通过。