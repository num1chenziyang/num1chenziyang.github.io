---
title: 2.NEXT主题的美化（常用）
date: 2025-04-01 01:38:00
categories:
  - 笔记博客搭建
tags: 
password:
---
# 参考网页：
[Hexo-Next 主题博客个性化配置超详细，超全面(两万字)](https://blog.csdn.net/as480133937/article/details/100138838)

[Hexo+Next主题搭建个人博客+优化全过程（完整详细版）](https://zhuanlan.zhihu.com/p/618864711)

[hexo 个人博客基于 NexT 主题的基本配置和定制优化 | Chou Bin's Blog](https://choubin.site/2019/12/30/CustomBlogTheme/)
**（将基于此进行next主题优化）**

---

# 一.next修改about内容
要修改Hexo的Next主题中的“关于”页面内容，需通过以下步骤操作：

### 1. **创建或定位“关于”页面**
   • 在Hexo根目录下执行命令生成页面文件：
```bash
hexo new page "about"
```
这会在`source/about`目录下生成`index.md`文件。

### 2. **编辑页面内容**
   • 打开生成的`source/about/index.md`文件，修改其中的Markdown内容。例如：
```markdown
---
title: 关于我
date: 2025-04-02
type: "about"
comments: false  # 若需关闭评论可添加此行
---

这里是你的个人介绍内容，支持Markdown语法。
```
通过调整`title`字段可修改页面标题，正文部分直接编写内容即可。

### 3. **启用菜单项**
   • 在Next主题的配置文件`themes/next/_config.yml`中找到`menu`设置，取消`about`项的注释：
```yaml
menu:
    home: / || home
    about: /about/ || user  # 删除此行前的注释符号“#”
```
确保图标`user`与Font Awesome的图标名称对应，也可自定义其他图标。

### 4. **本地预览与部署**
   • 执行以下命令查看效果：
```bash
hexo clean && hexo s
```
确认无误后部署到服务器：
```bash
hexo clean && hexo g -d
```

### 补充说明
• **内容格式**：支持插入图片、链接、代码块等Markdown元素，例如：
```markdown
![头像](/images/avatar.jpg)
[查看我的GitHub](https://github.com/yourname)
```
• **主题兼容性**：若使用NexT的主题配置文件分离方式（`next.yml`），需在`source/_data/next.yml`中修改菜单设置。
• **多语言支持**：若网站启用了多语言，需在对应语言的翻译文件中调整“关于”页面的显示文本。

---

# 二.next修改各模块背景图片
### 1.准备背景图片
将背景图片（如`bg.jpg`）放置在以下路径：
   ```
   Hexo_HTML/themes/hexo-theme-next/source/images/background.jpg
   ```
   *（若目录不存在请手动创建）*  


### 2.创建专用配置文件
在**Hexo根目录**（不是主题目录）新建配置文件：
   ```
   Hexo_HTML/source/_data/styles.styl
   ```
   *（若`_data`文件夹不存在请手动创建）* 


### 3.编写背景样式代码
在新建的`styles.styl`中添加以下内容（按需选择配置）：
```css
/* 全站通用背景 */
body {
  background: url(/images/background.jpg);
  background-repeat: no-repeat;
  background-attachment: fixed; /* 固定不滚动 */
  background-size: cover;      /* 自适应填充 */
  background-position: center;
}

/* 文章内容区域背景 */
.post-block {
  background: url(/images/post-bg.png) rgba(255,255,255,0.9);
}

/* 侧边栏背景 */
.sidebar {
  background: url(/images/sidebar-bg.jpg);
}

/* 页头背景 */
.header-inner {
  background: url(/images/header-bg.png);
}
```
*每个模块的背景图片需单独上传到`images`目录* 
styles.styl在Hexo_HTML/themes/hexo-theme-next生效
对于**styles.styl**文件，根目录就为**Hexo_HTML/themes/hexo-theme-next**
故其指定的/images/background.jpg，其image是在hexo-theme-next下

所以需注意：所有图片路径必须使用`/images/`开头的绝对路径，不要带`themes/next/`前缀 


### 4.激活配置文件
4. 打开主题配置文件`_config.yml`，找到并**取消注释**以下配置：
```yaml
custom_file_path:
  style: source/_data/styles.styl
```
*确保该配置项前无#号* 

### 5.生效配置
5. 执行以下命令（每次修改配置后都需要执行）：
```bash
hexo clean && hexo g && hexo s
```
通过`localhost:4000`预览效果 

---

# 三.next显示文章目录（Table of Contents, TOC）
### 1. **确认 NexT 主题版本**
   - 不同版本的 NexT 配置方式略有不同。可通过主题目录下的 `package.json` 或文档确认版本。
   - 本文以 **NexT v8.x** 为例，其他版本逻辑类似。


### 2. **修改主题配置文件**
   - 打开 NexT 主题的配置文件：`themes/next/_config.yml`。
   - 找到 `toc` 相关配置项，启用并调整参数：

```yaml
# NexT v8.x 配置示例
toc:
  enable: true         # 全局启用 TOC
  number: true         # 标题显示数字编号
  wrap: true           # 允许目录换行
  expand_all: false    # 是否展开所有层级（按需开启）
  max_depth: 3         # 目录最大深度（根据文章标题层级调整）
```


### 3. **在文章中启用 TOC**
   - 在文章的 Markdown 文件头部（Front-matter）中添加 `toc: true`：

```markdown
---
title: 你的文章标题
date: 2023-01-01
toc: true  # 启用本文的目录
---

## 一级标题
### 二级标题
### 二级标题
## 一级标题
...
```


### 4. **检查 Markdown 渲染器**
   - Hexo 默认的 `hexo-renderer-marked` 可能不支持复杂 TOC，建议改用 `hexo-renderer-markdown-it`：
     ```bash
     npm uninstall hexo-renderer-marked --save
     npm install hexo-renderer-markdown-it --save
     ```
   - 在 Hexo 根目录的 `_config.yml` 中添加配置：
     ```yaml
     markdown:
       plugins:
         - markdown-it-toc-done-right
     ```


### 5. **调整目录样式（可选）**
   - 若目录位置或样式不符合预期，可通过自定义 CSS 调整。在 `themes/next/source/css/_custom/custom.styl` 中添加：
     ```css
     /* 调整目录宽度 */
     .post-toc {
       max-width: 300px;
     }
     /* 标题对齐 */
     .post-toc .nav-item {
       padding-left: 10px;
     }
     ```


### 6. **常见问题**
   - **目录不显示**：
     1. 确认文章有至少两个层级标题（如 `##` 和 `###`）。
     2. 清理缓存后重新生成：`hexo clean && hexo g`
   - **样式错乱**：
     检查标题层级是否合理（避免跳跃，如 `#` → `###`）。
   - **版本差异**：
     - NexT v5/6：配置项可能在 `toc` 或 `sidebar` 模块。
     - 部分旧版本需手动添加 `{% include toc %}` 到模板。

---

# 四.next主页只显示文章摘要
## 1.自动截断
 打开`themes/next/_config.yml`，找到`auto_excerpt`配置项并启用：
   ```yaml
   auto_excerpt:
     enable: true
     length: 150  # 自动截取150字符作为摘要
   ```

   • 若需显示“阅读原文”按钮，在主题配置中启用：
```yaml
     read_more_btn: true
```

但是本next系统没有auto_excerpt配置项，需要用`hexo-excerpt`插件


## 2.新版 Next 主题的替代方案（无auto_excerpt）
如果您的主题版本不支持 `auto_excerpt`，可通过以下方式实现类似效果：
1. **安装摘要插件**  
   ```bash
   npm install hexo-excerpt --save
   ```
2. **在 Hexo 根目录的 `_config.yml` 添加配置**  
   ```yaml
   excerpt:
     depth: 3       # 解析3层HTML标签内的内容
     excerpt_excludes: []
     more_excludes: []
     hideWholePostExcerpts: true
   ```

