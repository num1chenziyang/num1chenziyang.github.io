---
title: 1.数据库自测
date: 2025-04-01 22:12:42
categories:
  - SDLC编译工作
  - （实战）编译后自测
tags:
  - 编译
  - 数据库自测
password: 9761565829chen
---
# （一）csdk验证
## 一.制作 csdk 的 ksh 文件
### 1.ids 对应的 csdk 的 ksh 脚本
export LD_LIBRARY_PATH=/home/czy/csdk/**lib**:/home/czy/csdk/**lib/cli**:/home/czy/csdk/**lib/esql**:$LD_LIBRARY_PATH
 
export GBASEDBTSQLHOSTS=/home/czy/csdk/sqlhosts.ol_czy_351
 
export GBASEDBTSERVER=ol_czy_351
 
export GBASEDBTDIR=/home/czy/csdk
 
export ODBCINI=/home/czy/csdk/etc/odbc.ini（供 odbc 使用）


## 二.ODBC（本机）
## 1.执行 ids 和 csdk 的 ksh 文件

## 2.配置 csdk/etc/odbc.ini
修改连接信息与 demo 中要执行的文件匹配。  
[odbc_demo]  
Drive=/home/czy/csdk/lib/cli/iclit09b.so  
Description=GBase ODBC DRIVER  
Database czy  
LogonID=root  
pwd=Power@Gbase8s  
Servername=ol_gbasedbt1210_8

## 3.csdk/demo/cli/dbcreate.c
SQLCHAR defDsn[] = "odbc_demo";

## 4.设置环境变量
export GBASEDBTDIR=/home/czy/csdk  
export ODBCINI=/home/czy/csdk/etc/odbc.ini

## 5.执行 demo
进入 csdk/demo/cli  
make dbcreate  
./dbcreate  
成功执行，则 csdk 的 odbc 部分正常。


## 三.ODBC（其他机器）
## 1.大体上与本机一致
仍然执行本机 ids 的 ksh，这个实例要与其他机器实例配置 sqlhost。

## 2.csdk/etc/odbc.ini
Servername 更换为其他机器的实例名。

## 3.ids/etc/sqlhosts
本机与其他机器，互相配置对方的 sqlhost。


## 四.esqlc
### 一.先执行配套 ids 的 ksh

### 二.配置如下环境变量

### 三.执行 esql 编译命令
esql -o TestESQLC -glu TestESQLC.ec


## 五.gci
[南大通用GBase 8s GCI使用指南](https://www.gbase.cn/community/post/4319)

---

# （二）jdbc验证

---

# （三）高可用搭建

---

# （四）cm搭建

---

# （五）单机通讯加密

---

# （六）高可用通讯加密
